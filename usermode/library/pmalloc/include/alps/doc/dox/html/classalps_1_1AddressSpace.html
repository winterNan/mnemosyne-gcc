<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>Alps: alps::AddressSpace Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="alps-logo.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Alps
   &#160;<span id="projectnumber">0.1.0</span>
   </div>
   <div id="projectbrief">AllocatorforPersistentSharedmemory</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="inherits.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><b>alps</b></li><li class="navelem"><a class="el" href="classalps_1_1AddressSpace.html">AddressSpace</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="classalps_1_1AddressSpace-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">alps::AddressSpace Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Logical address space.  
 <a href="classalps_1_1AddressSpace.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="address__space_8hh_source.html">address_space.hh</a>&gt;</code></p>
<div class="dynheader">
Collaboration diagram for alps::AddressSpace:</div>
<div class="dyncontent">
<div class="center"><img src="classalps_1_1AddressSpace__coll__graph.png" border="0" usemap="#alps_1_1AddressSpace_coll__map" alt="Collaboration graph"/></div>
<map name="alps_1_1AddressSpace_coll__map" id="alps_1_1AddressSpace_coll__map">
<area shape="rect" id="node2" href="classalps_1_1MemoryManager.html" title="The memory manager provides a mechanism for directly mapping persistent region files to virtual memor..." alt="" coords="5,81,156,108"/>
<area shape="rect" id="node3" href="structalps_1_1AddressSpaceOptions.html" title="alps::AddressSpaceOptions" alt="" coords="181,81,365,108"/>
<area shape="rect" id="node4" href="structalps_1_1Externalizable.html" title="Represents an object that can be written to and read from files/bytes in YAML format. " alt="" coords="205,5,341,32"/>
</map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a4111cdf0156a0d6d0a865bef8d6a97b3"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a4111cdf0156a0d6d0a865bef8d6a97b3"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>AddressSpace</b> (const <a class="el" href="structalps_1_1AddressSpaceOptions.html">AddressSpaceOptions</a> &amp;address_space_options)</td></tr>
<tr class="separator:a4111cdf0156a0d6d0a865bef8d6a97b3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aacc0bbb475a53159d582cb3c9a15109a"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aacc0bbb475a53159d582cb3c9a15109a"></a>
<a class="el" href="group__ERRORCODES.html#ga6263a3c9a0b8d36aea21cdd835ac99fe">ErrorCode</a>&#160;</td><td class="memItemRight" valign="bottom"><b>init</b> ()</td></tr>
<tr class="separator:aacc0bbb475a53159d582cb3c9a15109a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a91628b6c9afb5796c4745d10d721c7df"><td class="memTemplParams" colspan="2">template&lt;class RegionT &gt; </td></tr>
<tr class="memitem:a91628b6c9afb5796c4745d10d721c7df"><td class="memTemplItemLeft" align="right" valign="top"><a class="el" href="group__ERRORCODES.html#ga6263a3c9a0b8d36aea21cdd835ac99fe">ErrorCode</a>&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classalps_1_1AddressSpace.html#a91628b6c9afb5796c4745d10d721c7df">map</a> (<a class="el" href="classalps_1_1RegionFile.html">RegionFile</a> *region_file, RegionT **pregion)</td></tr>
<tr class="memdesc:a91628b6c9afb5796c4745d10d721c7df"><td class="mdescLeft">&#160;</td><td class="mdescRight">Maps a region file into the global address space.  <a href="#a91628b6c9afb5796c4745d10d721c7df">More...</a><br /></td></tr>
<tr class="separator:a91628b6c9afb5796c4745d10d721c7df"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a94f33857ada089b1fb35bb7b3efc22f0"><td class="memTemplParams" colspan="2">template&lt;class RegionT &gt; </td></tr>
<tr class="memitem:a94f33857ada089b1fb35bb7b3efc22f0"><td class="memTemplItemLeft" align="right" valign="top"><a class="el" href="group__ERRORCODES.html#ga6263a3c9a0b8d36aea21cdd835ac99fe">ErrorCode</a>&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classalps_1_1AddressSpace.html#a94f33857ada089b1fb35bb7b3efc22f0">bind</a> (RegionT *<a class="el" href="classalps_1_1AddressSpace.html#a3f32659a01f535e8b787556c08270a68">region</a>, RegionId region_id)</td></tr>
<tr class="memdesc:a94f33857ada089b1fb35bb7b3efc22f0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Binds a region to a shorthand name identifier.  <a href="#a94f33857ada089b1fb35bb7b3efc22f0">More...</a><br /></td></tr>
<tr class="separator:a94f33857ada089b1fb35bb7b3efc22f0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a23441f4279dbbf6f9d6fdb7da5c0626a"><td class="memTemplParams" colspan="2">template&lt;class RegionT &gt; </td></tr>
<tr class="memitem:a23441f4279dbbf6f9d6fdb7da5c0626a"><td class="memTemplItemLeft" align="right" valign="top"><a class="el" href="group__ERRORCODES.html#ga6263a3c9a0b8d36aea21cdd835ac99fe">ErrorCode</a>&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classalps_1_1AddressSpace.html#a23441f4279dbbf6f9d6fdb7da5c0626a">unmap</a> (RegionT *<a class="el" href="classalps_1_1AddressSpace.html#a3f32659a01f535e8b787556c08270a68">region</a>)</td></tr>
<tr class="memdesc:a23441f4279dbbf6f9d6fdb7da5c0626a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Unmaps a previously mapped region.  <a href="#a23441f4279dbbf6f9d6fdb7da5c0626a">More...</a><br /></td></tr>
<tr class="separator:a23441f4279dbbf6f9d6fdb7da5c0626a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3f32659a01f535e8b787556c08270a68"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classalps_1_1Region.html">Region</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classalps_1_1AddressSpace.html#a3f32659a01f535e8b787556c08270a68">region</a> (RegionId region_id)</td></tr>
<tr class="memdesc:a3f32659a01f535e8b787556c08270a68"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns region identified by region identifier <em>region_id</em>.  <a href="#a3f32659a01f535e8b787556c08270a68">More...</a><br /></td></tr>
<tr class="separator:a3f32659a01f535e8b787556c08270a68"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae9c5ec2ca94b68aa80643676c3029de0"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__ERRORCODES.html#ga6263a3c9a0b8d36aea21cdd835ac99fe">ErrorCode</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classalps_1_1AddressSpace.html#ae9c5ec2ca94b68aa80643676c3029de0">rtrans</a> (void *vaddr, <a class="el" href="classalps_1_1Region.html">Region</a> **pregion, LinearAddr *offset)</td></tr>
<tr class="memdesc:ae9c5ec2ca94b68aa80643676c3029de0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Performs reverse translation of a virtual address to a &lt;<em>pregion</em>, <em>offset&gt;</em> pair.  <a href="#ae9c5ec2ca94b68aa80643676c3029de0">More...</a><br /></td></tr>
<tr class="separator:ae9c5ec2ca94b68aa80643676c3029de0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac250b1b2b365f21f489a99e36122c679"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ac250b1b2b365f21f489a99e36122c679"></a>
<a class="el" href="classalps_1_1MemoryManager.html">MemoryManager</a> *&#160;</td><td class="memItemRight" valign="bottom"><b>mm</b> ()</td></tr>
<tr class="separator:ac250b1b2b365f21f489a99e36122c679"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:ae41a0caf654a278553e05427538cd377"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ae41a0caf654a278553e05427538cd377"></a>
<a class="el" href="structalps_1_1AddressSpaceOptions.html">AddressSpaceOptions</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classalps_1_1AddressSpace.html#ae41a0caf654a278553e05427538cd377">address_space_options_</a></td></tr>
<tr class="memdesc:ae41a0caf654a278553e05427538cd377"><td class="mdescLeft">&#160;</td><td class="mdescRight">Address space runtime options. <br /></td></tr>
<tr class="separator:ae41a0caf654a278553e05427538cd377"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab4e162ae17ddc0c15873e910c075169d"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ab4e162ae17ddc0c15873e910c075169d"></a>
<a class="el" href="classalps_1_1MemoryManager.html">MemoryManager</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classalps_1_1AddressSpace.html#ab4e162ae17ddc0c15873e910c075169d">mm_</a></td></tr>
<tr class="memdesc:ab4e162ae17ddc0c15873e910c075169d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Memory manager mapping regions into virtual memory. <br /></td></tr>
<tr class="separator:ab4e162ae17ddc0c15873e910c075169d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6cba6ed6bb0ffee7682fc665b4eaa035"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a6cba6ed6bb0ffee7682fc665b4eaa035"></a>
std::multimap&lt; RegionId, <a class="el" href="classalps_1_1Region.html">Region</a> * &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classalps_1_1AddressSpace.html#a6cba6ed6bb0ffee7682fc665b4eaa035">regions_</a></td></tr>
<tr class="memdesc:a6cba6ed6bb0ffee7682fc665b4eaa035"><td class="mdescLeft">&#160;</td><td class="mdescRight">A table mapping region_id to region. <br /></td></tr>
<tr class="separator:a6cba6ed6bb0ffee7682fc665b4eaa035"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Represents a logical address space where region files can be bound and mapped to. There should be a single <a class="el" href="classalps_1_1AddressSpace.html" title="Logical address space. ">AddressSpace</a> object instance per process even though nothing prevents a user from having multiple instances.</p>
<p>Mapping and binding a region file to a global address space results in a named region. The global address space supports different modes of region mappings to allow users select different performance and flexibility tradeoffs. These modes are supported through template polymorphism rather than virtual polymorphish to reduce the runtime overhead for accessing regions.</p>
<p>Mapping modes include:</p><ul>
<li>single segment direct relocatable mapping, where the whole region is directly mapped to an arbitraty address. This mode enables using relative offset pointers (similar to offset_ptr) for flexible mapping and addressing at the expense of performance (i.e., some overhead to perform simple pointer arithmetic relative to the base of region). </li>
</ul>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a94f33857ada089b1fb35bb7b3efc22f0"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class RegionT &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__ERRORCODES.html#ga6263a3c9a0b8d36aea21cdd835ac99fe">ErrorCode</a> alps::AddressSpace::bind </td>
          <td>(</td>
          <td class="paramtype">RegionT *&#160;</td>
          <td class="paramname"><em>region</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">RegionId&#160;</td>
          <td class="paramname"><em>region_id</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">region</td><td>The region object to bind. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">region_id</td><td>The shorthand name identifier to bind the region to.</td></tr>
  </table>
  </dd>
</dl>
<p>After binding, pointers can identify the region using the shorthand name identifier. </p>

</div>
</div>
<a class="anchor" id="a91628b6c9afb5796c4745d10d721c7df"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class RegionT &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">template <a class="el" href="group__ERRORCODES.html#ga6263a3c9a0b8d36aea21cdd835ac99fe">ErrorCode</a> alps::AddressSpace::map&lt; <a class="el" href="classalps_1_1Mappable.html">RRegion</a> &gt; </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classalps_1_1RegionFile.html">RegionFile</a> *&#160;</td>
          <td class="paramname"><em>region_file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">RegionT **&#160;</td>
          <td class="paramname"><em>pregion</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">region_file</td><td>The region file to map into the global address space. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">pregion</td><td>An object representing the region of the global address space where the file is mapped to. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a3f32659a01f535e8b787556c08270a68"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classalps_1_1Region.html">Region</a> * alps::AddressSpace::region </td>
          <td>(</td>
          <td class="paramtype">RegionId&#160;</td>
          <td class="paramname"><em>region_id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">region_id</td><td><a class="el" href="classalps_1_1Region.html" title="Persistent memory region. ">Region</a> identifier </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ae9c5ec2ca94b68aa80643676c3029de0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__ERRORCODES.html#ga6263a3c9a0b8d36aea21cdd835ac99fe">ErrorCode</a> alps::AddressSpace::rtrans </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>vaddr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classalps_1_1Region.html">Region</a> **&#160;</td>
          <td class="paramname"><em>pregion</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">LinearAddr *&#160;</td>
          <td class="paramname"><em>offset</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">vaddr</td><td>The virtual address to reverse translate. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">pregion</td><td>The region the virtual address is mapped to. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">offset</td><td>The offset relative to the region base. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a23441f4279dbbf6f9d6fdb7da5c0626a"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class RegionT &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">template <a class="el" href="group__ERRORCODES.html#ga6263a3c9a0b8d36aea21cdd835ac99fe">ErrorCode</a> alps::AddressSpace::unmap&lt; <a class="el" href="classalps_1_1Mappable.html">RRegion</a> &gt; </td>
          <td>(</td>
          <td class="paramtype">RegionT *&#160;</td>
          <td class="paramname"><em>region</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">region</td><td>The region object to unmap. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>/home/yuan/Benchmarks/whisper/mnemosyne-gcc/usermode/library/pmalloc/include/alps/include/alps/pegasus/<a class="el" href="address__space_8hh_source.html">address_space.hh</a></li>
<li>/home/yuan/Benchmarks/whisper/mnemosyne-gcc/usermode/library/pmalloc/include/alps/src/pegasus/address_space.cc</li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Tue Jun 8 2021 00:36:35 for Alps by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.11
</small></address>
</body>
</html>
