<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>Alps: alps::ErrorStack Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="alps-logo.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Alps
   &#160;<span id="projectnumber">0.1.0</span>
   </div>
   <div id="projectbrief">AllocatorforPersistentSharedmemory</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="inherits.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><b>alps</b></li><li class="navelem"><a class="el" href="classalps_1_1ErrorStack.html">ErrorStack</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="#friends">Friends</a> &#124;
<a href="classalps_1_1ErrorStack-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">alps::ErrorStack Class Reference<div class="ingroups"><a class="el" href="group__ERRORCODES.html">Error codes, messages, and stacktraces</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>Brings error stacktrace information as return value of functions.  
 <a href="classalps_1_1ErrorStack.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="error__stack_8hh_source.html">error_stack.hh</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-types"></a>
Public Types</h2></td></tr>
<tr class="memitem:a18b861743a2de89ca205ffa2d91e6997"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classalps_1_1ErrorStack.html#a18b861743a2de89ca205ffa2d91e6997">Constants</a> { <a class="el" href="classalps_1_1ErrorStack.html#a18b861743a2de89ca205ffa2d91e6997abd01de12344bb39aa89faef49805ac46">kMaxStackDepth</a> = 8
 }</td></tr>
<tr class="separator:a18b861743a2de89ca205ffa2d91e6997"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:af45fef4cca00ffee757cc9cc3785a0a8"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classalps_1_1ErrorStack.html#af45fef4cca00ffee757cc9cc3785a0a8">ErrorStack</a> ()</td></tr>
<tr class="separator:af45fef4cca00ffee757cc9cc3785a0a8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad40706ec9b58151b37fda5096f77b718"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classalps_1_1ErrorStack.html#ad40706ec9b58151b37fda5096f77b718">ErrorStack</a> (<a class="el" href="group__ERRORCODES.html#ga6263a3c9a0b8d36aea21cdd835ac99fe">ErrorCode</a> code)</td></tr>
<tr class="memdesc:ad40706ec9b58151b37fda5096f77b718"><td class="mdescLeft">&#160;</td><td class="mdescRight">Instantiate a return code without a custom error message nor stacktrace.  <a href="#ad40706ec9b58151b37fda5096f77b718">More...</a><br /></td></tr>
<tr class="separator:ad40706ec9b58151b37fda5096f77b718"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaee609e98f03c2733af1203036e3f6e0"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classalps_1_1ErrorStack.html#aaee609e98f03c2733af1203036e3f6e0">ErrorStack</a> (const char *filename, const char *func, uint32_t linenum, <a class="el" href="group__ERRORCODES.html#ga6263a3c9a0b8d36aea21cdd835ac99fe">ErrorCode</a> code, const char *custom_message=<a class="el" href="group__CXX11.html#ga213f92e16813051c59cdccf6d28baa78">CXX11_NULLPTR</a>)</td></tr>
<tr class="memdesc:aaee609e98f03c2733af1203036e3f6e0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Instantiate a return code with stacktrace and optionally a custom error message.  <a href="#aaee609e98f03c2733af1203036e3f6e0">More...</a><br /></td></tr>
<tr class="separator:aaee609e98f03c2733af1203036e3f6e0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9222f3cb9055701981493a1451b321e4"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classalps_1_1ErrorStack.html#a9222f3cb9055701981493a1451b321e4">ErrorStack</a> (const <a class="el" href="classalps_1_1ErrorStack.html">ErrorStack</a> &amp;other)</td></tr>
<tr class="separator:a9222f3cb9055701981493a1451b321e4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5e43623d23880edd151f921dec114a5d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classalps_1_1ErrorStack.html#a5e43623d23880edd151f921dec114a5d">ErrorStack</a> (const <a class="el" href="classalps_1_1ErrorStack.html">ErrorStack</a> &amp;other, const char *filename, const char *func, uint32_t linenum, const char *more_custom_message=<a class="el" href="group__CXX11.html#ga213f92e16813051c59cdccf6d28baa78">CXX11_NULLPTR</a>)</td></tr>
<tr class="separator:a5e43623d23880edd151f921dec114a5d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9719a01f9e25cd67bbd632521524e888"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classalps_1_1ErrorStack.html">ErrorStack</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classalps_1_1ErrorStack.html#a9719a01f9e25cd67bbd632521524e888">operator=</a> (const <a class="el" href="classalps_1_1ErrorStack.html">ErrorStack</a> &amp;other)</td></tr>
<tr class="separator:a9719a01f9e25cd67bbd632521524e888"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afb344b60c5d325aebbd6b9b278357df2"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classalps_1_1ErrorStack.html#afb344b60c5d325aebbd6b9b278357df2">~ErrorStack</a> ()</td></tr>
<tr class="separator:afb344b60c5d325aebbd6b9b278357df2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6a1333e8b975b92de8628e8b3c5058dc"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classalps_1_1ErrorStack.html#a6a1333e8b975b92de8628e8b3c5058dc">is_error</a> () const </td></tr>
<tr class="separator:a6a1333e8b975b92de8628e8b3c5058dc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acad692aa115b80ee36ad173c5aa9e2eb"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__ERRORCODES.html#ga6263a3c9a0b8d36aea21cdd835ac99fe">ErrorCode</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classalps_1_1ErrorStack.html#acad692aa115b80ee36ad173c5aa9e2eb">get_error_code</a> () const </td></tr>
<tr class="separator:acad692aa115b80ee36ad173c5aa9e2eb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad6d3e825281c3bc8ed7aee7ba0a35b74"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classalps_1_1ErrorStack.html#ad6d3e825281c3bc8ed7aee7ba0a35b74">get_message</a> () const </td></tr>
<tr class="separator:ad6d3e825281c3bc8ed7aee7ba0a35b74"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa5814d07d45601b0f54b77c2b456ba8c"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classalps_1_1ErrorStack.html#aa5814d07d45601b0f54b77c2b456ba8c">get_custom_message</a> () const </td></tr>
<tr class="separator:aa5814d07d45601b0f54b77c2b456ba8c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a68a61726008208d49521db039a18d2d9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classalps_1_1ErrorStack.html#a68a61726008208d49521db039a18d2d9">copy_custom_message</a> (const char *message)</td></tr>
<tr class="separator:a68a61726008208d49521db039a18d2d9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a416b4574f9f73063720cb20c620dad51"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classalps_1_1ErrorStack.html#a416b4574f9f73063720cb20c620dad51">clear_custom_message</a> ()</td></tr>
<tr class="separator:a416b4574f9f73063720cb20c620dad51"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae89827aafd6095698f9b223ebecea40b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classalps_1_1ErrorStack.html#ae89827aafd6095698f9b223ebecea40b">append_custom_message</a> (const char *more_custom_message)</td></tr>
<tr class="separator:ae89827aafd6095698f9b223ebecea40b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeb0920c79b84e369eecd694cc8261ff1"><td class="memItemLeft" align="right" valign="top">uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classalps_1_1ErrorStack.html#aeb0920c79b84e369eecd694cc8261ff1">get_stack_depth</a> () const </td></tr>
<tr class="separator:aeb0920c79b84e369eecd694cc8261ff1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae4b6ae74770f2f45e9f6161785c05b2b"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classalps_1_1ErrorStack.html#ae4b6ae74770f2f45e9f6161785c05b2b">get_linenum</a> (uint16_t stack_index) const </td></tr>
<tr class="separator:ae4b6ae74770f2f45e9f6161785c05b2b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad13251b97c0b40b0901f606f9d6d5384"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classalps_1_1ErrorStack.html#ad13251b97c0b40b0901f606f9d6d5384">get_filename</a> (uint16_t stack_index) const </td></tr>
<tr class="separator:ad13251b97c0b40b0901f606f9d6d5384"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a738f149173bc7e9a7be827dd7a02de8f"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classalps_1_1ErrorStack.html#a738f149173bc7e9a7be827dd7a02de8f">get_func</a> (uint16_t stack_index) const </td></tr>
<tr class="separator:a738f149173bc7e9a7be827dd7a02de8f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1d7e8a20295213f32de56a5b77b976c1"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classalps_1_1ErrorStack.html#a1d7e8a20295213f32de56a5b77b976c1">get_os_errno</a> () const </td></tr>
<tr class="separator:a1d7e8a20295213f32de56a5b77b976c1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad157dbc40b5c2eaccd44dd7347296a45"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classalps_1_1ErrorStack.html#ad157dbc40b5c2eaccd44dd7347296a45">verify</a> () const </td></tr>
<tr class="separator:ad157dbc40b5c2eaccd44dd7347296a45"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afe67ad7f9830b1ef263f867109230b54"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classalps_1_1ErrorStack.html#afe67ad7f9830b1ef263f867109230b54">output</a> (std::ostream *ptr) const </td></tr>
<tr class="separator:afe67ad7f9830b1ef263f867109230b54"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a30461e6b34692f7ee11db1995d52d0ac"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classalps_1_1ErrorStack.html#a30461e6b34692f7ee11db1995d52d0ac">dump_and_abort</a> (const char *abort_message) const </td></tr>
<tr class="separator:a30461e6b34692f7ee11db1995d52d0ac"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:a4e7dfdf688e6a33bbda2cfebf3a396a7"><td class="memItemLeft" align="right" valign="top">static std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classalps_1_1ErrorStack.html#a4e7dfdf688e6a33bbda2cfebf3a396a7">get_recent_dump_and_abort</a> ()</td></tr>
<tr class="separator:a4e7dfdf688e6a33bbda2cfebf3a396a7"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="friends"></a>
Friends</h2></td></tr>
<tr class="memitem:adfc96f96e5d8f4c12b4a9cea60c1fbb4"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="adfc96f96e5d8f4c12b4a9cea60c1fbb4"></a>
std::ostream &amp;&#160;</td><td class="memItemRight" valign="bottom"><b>operator&lt;&lt;</b> (std::ostream &amp;o, const <a class="el" href="classalps_1_1ErrorStack.html">ErrorStack</a> &amp;obj)</td></tr>
<tr class="separator:adfc96f96e5d8f4c12b4a9cea60c1fbb4"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>This is returned by many API functions. As it brings stacktrace information, it's more informative than just returning ErrorCode. However, note that instantiating and augmenting this stack object has some overhead.</p>
<dl class="section user"><dt>Why not exception</dt><dd>A couple of reasons: <ul>
<li>Performance </li>
<li>Portability </li>
<li>Our Google C++ Coding Style overlord said so</li>
</ul>
We are not even sure what exceptions would look like in future environments. So, we don't throw or catch any exceptions in our program.</dd></dl>
<dl class="section user"><dt>Macros to help use ErrorStack</dt><dd>In most places, you should use kRetOk, <a class="el" href="group__ERRORCODES.html#ga72a80915c3588aea09c053ab567e19c4" title="This macro calls x and checks its returned value. If an error is encountered, it immediately returns ...">CHECK_ERROR(x)</a>, or <a class="el" href="group__ERRORCODES.html#gaf2fc6952d71aa10a52c326a27a0746da" title="Instantiates ErrorStack with the given alps::error_code, creating an error stack with the current fil...">ERROR_STACK(e)</a> to handle this class. See the doucments of those macros.</dd></dl>
<dl class="section user"><dt>Forced return code checking</dt><dd>An error code must be checked by some code, else it will abort with an "error-not-checked" error in stderr. We might later make this warning instead of aborting, but we should keep the current setting for a while to check for undesired coding. Once you get used to, making it sure is quite effortless.</dd></dl>
<dl class="section user"><dt>Maximum stack trace depth</dt><dd>When the return code is an error code, we propagate back the stack trace for easier debugging. We could have a linked-list for this and, to ameriolate allocate/delete cost for it, a TLS object pool. Unfortunately, it causes issues in some environments and is not so readable/maintainable. Instead, we limit the depth of stacktraces stored in this object to a reasonable number enough for debugging; <a class="el" href="classalps_1_1ErrorStack.html#a18b861743a2de89ca205ffa2d91e6997abd01de12344bb39aa89faef49805ac46">kMaxStackDepth</a>. We then store just line numbers and const pointers to file names. No heap allocation. The only thing that has to be allocated on heap is a custom error message. However, there are not many places that use custom messages, so the cost usually doesn't happen.</dd></dl>
<dl class="section user"><dt>Moveable/Copiable</dt><dd>This object is <em>copiable</em>. Further, the copy constructor and copy assignment operator are equivalent to <em>move</em>. Although they take a const reference, we <em>steal</em> its checked_ and custom_message_. This might be confusing, but much more efficient without C++11. As this object is copied so many times, we take this approach.</dd></dl>
<p>This class is header-only <b>except</b> <a class="el" href="classalps_1_1ErrorStack.html#afe67ad7f9830b1ef263f867109230b54">output()</a>, <a class="el" href="classalps_1_1ErrorStack.html#a30461e6b34692f7ee11db1995d52d0ac">dump_and_abort()</a>, and std::ostream redirect. </p>
</div><h2 class="groupheader">Member Enumeration Documentation</h2>
<a class="anchor" id="a18b861743a2de89ca205ffa2d91e6997"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="classalps_1_1ErrorStack.html#a18b861743a2de89ca205ffa2d91e6997">alps::ErrorStack::Constants</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Constant values. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a class="anchor" id="a18b861743a2de89ca205ffa2d91e6997abd01de12344bb39aa89faef49805ac46"></a>kMaxStackDepth&#160;</td><td class="fielddoc">
<p>Maximum stack trace depth. </p>
</td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="af45fef4cca00ffee757cc9cc3785a0a8"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">alps::ErrorStack::ErrorStack </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Empty constructor. This is same as duplicating kRetOk. </p>

</div>
</div>
<a class="anchor" id="ad40706ec9b58151b37fda5096f77b718"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">alps::ErrorStack::ErrorStack </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__ERRORCODES.html#ga6263a3c9a0b8d36aea21cdd835ac99fe">ErrorCode</a>&#160;</td>
          <td class="paramname"><em>code</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">explicit</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">code</td><td>Error code, either kErrorCodeOk or real errors.</td></tr>
  </table>
  </dd>
</dl>
<p>This is the most (next to kRetOk) light-weight way to create/propagate a return code. Use this one if you do not need a detail information to debug the error (eg, error whose cause is obvious, an expected error that is immediately caught, etc). </p>

</div>
</div>
<a class="anchor" id="aaee609e98f03c2733af1203036e3f6e0"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">alps::ErrorStack::ErrorStack </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>filename</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>func</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>linenum</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__ERRORCODES.html#ga6263a3c9a0b8d36aea21cdd835ac99fe">ErrorCode</a>&#160;</td>
          <td class="paramname"><em>code</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>custom_message</em> = <code><a class="el" href="group__CXX11.html#ga213f92e16813051c59cdccf6d28baa78">CXX11_NULLPTR</a></code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">filename</td><td>file name of the current place. It must be a const and permanent string, such as what "__FILE__" returns. Note that we do NOT do deep-copy of the strings. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">func</td><td>functiona name of the current place. Must be a const-permanent as well, such as "__FUNCTION__" of gcc/MSVC or C++11's <b>func</b>. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">linenum</td><td>line number of the current place. Usually "__LINE__". </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">code</td><td>Error code, must be real errors. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">custom_message</td><td>Optional custom error message in addition to the default one inferred from error code. If you pass a non-NULL string to this argument, we do deep-copy, so it's EXPENSIVE! </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a9222f3cb9055701981493a1451b321e4"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">alps::ErrorStack::ErrorStack </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classalps_1_1ErrorStack.html">ErrorStack</a> &amp;&#160;</td>
          <td class="paramname"><em>other</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Copy constructor. </p>

</div>
</div>
<a class="anchor" id="a5e43623d23880edd151f921dec114a5d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">alps::ErrorStack::ErrorStack </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classalps_1_1ErrorStack.html">ErrorStack</a> &amp;&#160;</td>
          <td class="paramname"><em>other</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>filename</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>func</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>linenum</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>more_custom_message</em> = <code><a class="el" href="group__CXX11.html#ga213f92e16813051c59cdccf6d28baa78">CXX11_NULLPTR</a></code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Copy constructor to augment the stacktrace. </p>

</div>
</div>
<a class="anchor" id="afb344b60c5d325aebbd6b9b278357df2"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">alps::ErrorStack::~ErrorStack </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Will warn in stderr if the error code is not checked yet. </p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="ae89827aafd6095698f9b223ebecea40b"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void alps::ErrorStack::append_custom_message </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>more_custom_message</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Appends more custom error message at the end. </p>

</div>
</div>
<a class="anchor" id="a416b4574f9f73063720cb20c620dad51"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void alps::ErrorStack::clear_custom_message </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Deletes custom message from this object. </p>

</div>
</div>
<a class="anchor" id="a68a61726008208d49521db039a18d2d9"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void alps::ErrorStack::copy_custom_message </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>message</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Copy the given custom message into this object. </p>

</div>
</div>
<a class="anchor" id="a30461e6b34692f7ee11db1995d52d0ac"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void alps::ErrorStack::dump_and_abort </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>abort_message</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Describe this object to std::cerr and then abort. This also leaves the dump information in static variable so that a signal handler pick it up. </p>

</div>
</div>
<a class="anchor" id="aa5814d07d45601b0f54b77c2b456ba8c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const char * alps::ErrorStack::get_custom_message </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Returns the custom error message. </p>

</div>
</div>
<a class="anchor" id="acad692aa115b80ee36ad173c5aa9e2eb"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__ERRORCODES.html#ga6263a3c9a0b8d36aea21cdd835ac99fe">ErrorCode</a> alps::ErrorStack::get_error_code </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Return the integer error code. </p>

</div>
</div>
<a class="anchor" id="ad13251b97c0b40b0901f606f9d6d5384"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const char * alps::ErrorStack::get_filename </td>
          <td>(</td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>stack_index</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Returns the file name of the given stack position. </p>

</div>
</div>
<a class="anchor" id="a738f149173bc7e9a7be827dd7a02de8f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const char * alps::ErrorStack::get_func </td>
          <td>(</td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>stack_index</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Returns the function name of the given stack position. </p>

</div>
</div>
<a class="anchor" id="ae4b6ae74770f2f45e9f6161785c05b2b"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t alps::ErrorStack::get_linenum </td>
          <td>(</td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>stack_index</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Returns the line number of the given stack position. </p>

</div>
</div>
<a class="anchor" id="ad6d3e825281c3bc8ed7aee7ba0a35b74"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const char * alps::ErrorStack::get_message </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Returns the error message inferred by the error code. </p>

</div>
</div>
<a class="anchor" id="a1d7e8a20295213f32de56a5b77b976c1"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int alps::ErrorStack::get_os_errno </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Global errno of the system as of instantiation of this error stack. </p>

</div>
</div>
<a class="anchor" id="a4e7dfdf688e6a33bbda2cfebf3a396a7"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::string alps::ErrorStack::get_recent_dump_and_abort </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Signal handler can get the dump information via this. </p>

</div>
</div>
<a class="anchor" id="aeb0920c79b84e369eecd694cc8261ff1"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint16_t alps::ErrorStack::get_stack_depth </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Returns the depth of stack this error code has collected. </p>

</div>
</div>
<a class="anchor" id="a6a1333e8b975b92de8628e8b3c5058dc"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool alps::ErrorStack::is_error </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Returns if this return code is not kErrorCodeOk. </p>

</div>
</div>
<a class="anchor" id="a9719a01f9e25cd67bbd632521524e888"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classalps_1_1ErrorStack.html">ErrorStack</a> &amp; alps::ErrorStack::operator= </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classalps_1_1ErrorStack.html">ErrorStack</a> &amp;&#160;</td>
          <td class="paramname"><em>other</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Assignment operator. </p>

</div>
</div>
<a class="anchor" id="afe67ad7f9830b1ef263f867109230b54"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void alps::ErrorStack::output </td>
          <td>(</td>
          <td class="paramtype">std::ostream *&#160;</td>
          <td class="paramname"><em>ptr</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Describe this object to the given stream. </p>

</div>
</div>
<a class="anchor" id="ad157dbc40b5c2eaccd44dd7347296a45"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void alps::ErrorStack::verify </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Output a warning to stderr if the error is not checked yet. </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>/home/yuan/Benchmarks/whisper/mnemosyne-gcc/usermode/library/pmalloc/include/alps/include/alps/common/<a class="el" href="error__stack_8hh_source.html">error_stack.hh</a></li>
<li>/home/yuan/Benchmarks/whisper/mnemosyne-gcc/usermode/library/pmalloc/include/alps/src/common/error_stack.cc</li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Tue Jun 8 2021 00:36:35 for Alps by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.11
</small></address>
</body>
</html>
